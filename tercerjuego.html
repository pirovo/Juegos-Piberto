<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="tercercss.css">
    <link rel="icon" type="image/png" href="https://static.vecteezy.com/system/resources/previews/022/443/404/original/joystick-flat-icon-png.png">
    <title>Pagina de Juegos Piberto</title>
</head>
<body onload="pasarANivel3()">
    <div id="titulo">
        <fieldset style="background-color: blue; border-color: black;">
            <h1 style="color: white;">Arrastra donde Corresponde</h1>
        </fieldset>
    </div>
    <br>
    <div id="primerapregunta">
        <fieldset style="background-color: blue; border-color: black;">
            <p style="color: white;">3. ¿Cómo se llaman estos crustáceos?</p>
        </fieldset>
    </div>
    <br>
    <div id="contenedorImagenes">
        <div id="FotoNecora" class="imagen" draggable="true" ondragstart="drag(event, 'FotoNecora')">
            <img src="Fotos_Drop_and_venture/Necora.png" width="100%">
        </div>
        <div id="FotoBueydeMar" class="imagen" draggable="true" ondragstart="drag(event, 'FotoBueydeMar')">
            <img src="Fotos_Drop_and_venture/Buey_de_mar.png" width="100%">
        </div>
        <div id="FotoCentollo" class="imagen" draggable="true" ondragstart="drag(event, 'FotoCentollo')">
            <img src="Fotos_Drop_and_venture/Centollo.png" width="100%">
        </div>
    </div>
    <div id="contenedorCajas">
        <div class="caja" id="CajaBueydeMar" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%"><p style="color: white;">Buey de Mar</p></div>
        <div class="caja" id="CajaCentollo" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%"><p style="color: white;">Centollo</p></div>
        <div class="caja" id="CajaNecora" ondrop="drop(event)" ondragover="allowDrop(event)"><img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%"><p style="color: white;">Necora</p></div>
    </div>

    <div id="Tiempo_level3">
        <div id="Seg1_level3"></div>
    </div>

    <button id="botonComprobar" onclick="comprobar()">Comprobar</button>
    <a href="tercerjuego.html"><button id="reiniciar">Reintentar</button></a>

    <script>
        MoverItemId=null;

        function drag(ev, id){
            MoverItemId=id;}

        function allowDrop(ev){
            ev.preventDefault();}

        function drop(ev){
            ev.preventDefault();
            datos=MoverItemId;
            ItemMovido=document.getElementById(datos);
            ev.target.innerHTML=ItemMovido.outerHTML;
            ItemMovido.parentNode.removeChild(ItemMovido);}

        function comprobar(){
            FotoBueydeMar=document.getElementById("FotoBueydeMar");
            FotoCentollo=document.getElementById("FotoCentollo");
            FotoNecora=document.getElementById("FotoNecora");
            CajaBueydeMar=document.getElementById("CajaBueydeMar");
            CajaCentollo=document.getElementById("CajaCentollo");
            CajaNecora=document.getElementById("CajaNecora");

            if (CajaBueydeMar.contains(FotoBueydeMar.firstChild)&& CajaCentollo.contains(FotoCentollo.firstChild)&& CajaNecora.contains(FotoNecora.firstChild)){
                alert("¡Perfecto! Todas las imágenes están en su lugar.");
                location.href = 'cuartojuego.html';
            } else {alert("¡Inténtalo de nuevo! Alguna imagen no está en su lugar.");
                      location.reload();
            }
        }
        
        //Timer
        var temporizador_level3;

        function pasarANivel3() {
            timer_level3();
        }

        var contador_level3 = 10;
        var div1_timer3 = document.getElementById('Seg1_level3');

        function timer_level3 () {
            temporizador_level3 = setInterval (contadorSegundos3, 1000);
        }

        function contadorSegundos3() {
            if (contador_level3 >= 0) {
                div1_timer3.innerHTML='<p>'+contador_level3+'</p>';
                contador_level3--;
                if (contador_level3==9){
                    div1_timer3.style.color="white";
                }
                if (contador_level3==4){
                    div1_timer3.style.color="red";
                }
            } else {
                div1_timer3.innerHTML="";
                clearInterval(temporizador_level3);
                location.reload();
            }
        }
    </script>
</body>
</html>