<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="juegodrag.css">
    <link rel="icon" type="image/png" href="https://static.vecteezy.com/system/resources/previews/022/443/404/original/joystick-flat-icon-png.png">
    <title>Pagina de Juegos Piberto</title>
</head>
<body onload="pasarANivel1()">
    
    <div id="titulo">
        <fieldset style="background-color: blue; border-color: black;">
            <h1 style="color: white;">Arrastra donde Corresponde</h1>
        </fieldset>
    </div>
    <br>
    <div id="primerapregunta">
        <fieldset style="background-color: blue; border-color: black;">
            <p style="color: white;">1.¿Cómo se llaman estos animales?</p>
        </fieldset>
    </div>
    <br>
    <div id="contenedorImagenes">
        <div id="FotoPulpo" class="imagen" draggable="true" ondragstart="drag(event, 'FotoPulpo')">
            <img src="Fotos_Drop_and_venture/octopus.jpg" width="100%">
        </div>
        <div id="FotoSepia" class="imagen" draggable="true" ondragstart="drag(event, 'FotoSepia')">
            <img src="Fotos_Drop_and_venture/Sepia.png" width="100%">
        </div>
        <div id="FotoCalamar" class="imagen" draggable="true" ondragstart="drag(event, 'FotoCalamar')">
            <img src="Fotos_Drop_and_venture/Calamar.png" width="100%">
        </div>
    </div>
    <div id="contenedorCajas">
        <div class="caja" id="CajaPulpo" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Pulpo</p>
        </div>
        <div class="caja" id="CajaSepia" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Sepia</p>
        </div>
        <div class="caja" id="CajaCalamar" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Calamar</p>
        </div>
    </div>

    <div id="Tiempo_level1">
        <div id="Seg1_level1"></div>
    </div>

    <button id="botonComprobar" onclick="comprobar()">Comprobar</button>
    <a href="juegodrag.html"><button id="reiniciar"¨>Reintentar</button></a>

    <script>
        MoverItemId=null;

        function drag(ev, id){
            MoverItemId=id;
        }

        function allowDrop(ev){
            ev.preventDefault();
        }

        function drop(ev){
            ev.preventDefault();
            datos=MoverItemId;
            ItemMovido=document.getElementById(datos);
            ev.target.innerHTML = ItemMovido.outerHTML;
            ItemMovido.parentNode.removeChild(ItemMovido);
        }

        function comprobar(){
            fotoPulpo=document.getElementById("FotoPulpo");
            fotoSepia=document.getElementById("FotoSepia");
            fotoCalamar=document.getElementById("FotoCalamar");
            cajaPulpo=document.getElementById("CajaPulpo");
            cajaSepia=document.getElementById("CajaSepia");
            cajaCalamar=document.getElementById("CajaCalamar");

            if (cajaPulpo.contains(fotoPulpo.firstChild)&& cajaSepia.contains(fotoSepia.firstChild)&& cajaCalamar.contains(fotoCalamar.firstChild)){
                alert("¡Perfecto! Todas las imágenes están en su lugar.");
                location.href = 'segundojuego.html';  //Redirigue al siguiente nivel, para ello hay que especificar el nombre de la pagina html requerida 
            } else {alert("¡Inténtalo de nuevo! Alguna imagen no está en su lugar.");
                    location.reload();
            }
        }


        //Timer
        var temporizador_level1;

        function pasarANivel1() {
            timer_level1();
        }

        var contador_level1 = 10;
        var div1_timer1 = document.getElementById('Seg1_level1');

        function timer_level1 () {
            temporizador_level1 = setInterval (contadorSegundos, 1000);
        }

        function contadorSegundos() {
            if (contador_level1 >= 0) {
                div1_timer1.innerHTML='<p>'+contador_level1+'</p>';
                contador_level1--;
                if (contador_level1==4){
                    div1_timer1.style.color="red";
                }
            } else {
                div1_timer1.innerHTML="";
                clearInterval(temporizador_level1);
                location.reload(); //Recarga la pagina en el que se encuentra (actual)   
            }
        }
    </script>
</body>
</html>