<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="segundocss.css">
    <link rel="icon" type="image/png" href="https://static.vecteezy.com/system/resources/previews/022/443/404/original/joystick-flat-icon-png.png">
    <title>Pagina de Juegos Piberto</title>
</head>
<body onload="pasarANivel2()">
    <div id="titulo">
        <fieldset style="background-color: blue; border-color: black;">
            <h1 style="color: white;">Arrastra donde Corresponde</h1>
        </fieldset>
    </div>
    <br>
    <div id="primerapregunta">
        <fieldset style="background-color: blue; border-color: black;">
            <p style="color: white;">2.¿Cómo se llaman estos pescados?</p>
        </fieldset>
    </div>
    <br>
    <div id="contenedorImagenes">
        <div id="FotoDorada" class="imagen" draggable="true" ondragstart="drag(event, 'FotoDorada')">
            <img src="Fotos_Drop_and_venture/Dorada.png" width="100%">
        </div>
        <div id="FotoCorvina" class="imagen" draggable="true" ondragstart="drag(event, 'FotoCorvina')">
            <img src="Fotos_Drop_and_venture/Corvina.png" width="100%">
        </div>
        <div id="FotoLubina" class="imagen" draggable="true" ondragstart="drag(event, 'FotoLubina')">
            <img src="Fotos_Drop_and_venture/Lubina.png" width="100%">
        </div>
    </div>
    <div id="contenedorCajas">
        <div class="caja" id="CajaLubina" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Lubina</p>
        </div>
        <div class="caja" id="CajaCorvina" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Corvina</p>
        </div>
        <div class="caja" id="CajaDorada" ondrop="drop(event)" ondragover="allowDrop(event)">
            <img src="Fotos_Drop_and_venture/Caja_humilde.png" width="100%">
            <p style="color: white;">Dorada</p>
        </div>
    </div>

    <div id="Tiempo_level2">
        <div id="Seg1_level2"></div>
    </div>

    <button id="botonComprobar" onclick="comprobar()">Comprobar</button>
    <a href="segundojuego.html"><button id="reiniciar"¨>Reintentar</button></a>
    

    <script>
        MoverItemId=null;

        function drag(ev, id){
            MoverItemId=id;
        }

        function allowDrop(ev){
            ev.preventDefault();
        }

        function drop(ev){
            ev.preventDefault();
            datos=MoverItemId;
            ItemMovido=document.getElementById(datos);
            ev.target.innerHTML=ItemMovido.outerHTML;
            ItemMovido.parentNode.removeChild(ItemMovido);
        }

        function comprobar(){
            FotoLubina=document.getElementById("FotoLubina");
            FotoCorvina=document.getElementById("FotoCorvina");
            FotoDorada=document.getElementById("FotoDorada");
            CajaLubina=document.getElementById("CajaLubina");
            CajaCorvina=document.getElementById("CajaCorvina");
            CajaDorada=document.getElementById("CajaDorada");

            if (CajaLubina.contains(FotoLubina.firstChild)&&CajaCorvina.contains(FotoCorvina.firstChild)&&CajaDorada.contains(FotoDorada.firstChild)){
                alert("¡Perfecto! Todas las imágenes están en su lugar.");
                location.href = 'tercerjuego.html';
            } else {alert("¡Inténtalo de nuevo! Alguna imagen no está en su lugar.");
                      location.reload();
            }
        }

        //Timer
        var temporizador_level2;

        function pasarANivel2() {
            timer_level2();
        }

        var contador_level2 = 10;
        var div1_timer2 = document.getElementById('Seg1_level2');

        function timer_level2 () {
            temporizador_level2 = setInterval (contadorSegundos2, 1000);
        }

        function contadorSegundos2() {
            if (contador_level2 >= 0) {
                div1_timer2.innerHTML='<p>'+contador_level2+'</p>';
                contador_level2--;
                if (contador_level2==9){
                    div1_timer2.style.color="white";
                }
                if (contador_level2==4){
                    div1_timer2.style.color="red";
                }
            } else {
                div1_timer2.innerHTML="";
                clearInterval(temporizador_level2);
                location.reload();
            }
        }
    </script>
</body>
</html>